   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.syntax unified
  15              		.file	"spi_master.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.spi_master_init,"ax",%progbits
  20              		.align	2
  21              		.global	spi_master_init
  22              		.thumb
  23              		.thumb_func
  25              	spi_master_init:
  26              	.LFB128:
  27              		.file 1 "../src/common/services/spi/sam_spi/spi_master.c"
   1:../src/common/services/spi/sam_spi/spi_master.c **** /**
   2:../src/common/services/spi/sam_spi/spi_master.c ****  * \file
   3:../src/common/services/spi/sam_spi/spi_master.c ****  *
   4:../src/common/services/spi/sam_spi/spi_master.c ****  * \brief SPI master common service for SAM.
   5:../src/common/services/spi/sam_spi/spi_master.c ****  *
   6:../src/common/services/spi/sam_spi/spi_master.c ****  * Copyright (c) 2011-2016 Atmel Corporation. All rights reserved.
   7:../src/common/services/spi/sam_spi/spi_master.c ****  *
   8:../src/common/services/spi/sam_spi/spi_master.c ****  * \asf_license_start
   9:../src/common/services/spi/sam_spi/spi_master.c ****  *
  10:../src/common/services/spi/sam_spi/spi_master.c ****  * \page License
  11:../src/common/services/spi/sam_spi/spi_master.c ****  *
  12:../src/common/services/spi/sam_spi/spi_master.c ****  * Redistribution and use in source and binary forms, with or without
  13:../src/common/services/spi/sam_spi/spi_master.c ****  * modification, are permitted provided that the following conditions are met:
  14:../src/common/services/spi/sam_spi/spi_master.c ****  *
  15:../src/common/services/spi/sam_spi/spi_master.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  16:../src/common/services/spi/sam_spi/spi_master.c ****  *    this list of conditions and the following disclaimer.
  17:../src/common/services/spi/sam_spi/spi_master.c ****  *
  18:../src/common/services/spi/sam_spi/spi_master.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  19:../src/common/services/spi/sam_spi/spi_master.c ****  *    this list of conditions and the following disclaimer in the documentation
  20:../src/common/services/spi/sam_spi/spi_master.c ****  *    and/or other materials provided with the distribution.
  21:../src/common/services/spi/sam_spi/spi_master.c ****  *
  22:../src/common/services/spi/sam_spi/spi_master.c ****  * 3. The name of Atmel may not be used to endorse or promote products derived
  23:../src/common/services/spi/sam_spi/spi_master.c ****  *    from this software without specific prior written permission.
  24:../src/common/services/spi/sam_spi/spi_master.c ****  *
  25:../src/common/services/spi/sam_spi/spi_master.c ****  * 4. This software may only be redistributed and used in connection with an
  26:../src/common/services/spi/sam_spi/spi_master.c ****  *    Atmel microcontroller product.
  27:../src/common/services/spi/sam_spi/spi_master.c ****  *
  28:../src/common/services/spi/sam_spi/spi_master.c ****  * THIS SOFTWARE IS PROVIDED BY ATMEL "AS IS" AND ANY EXPRESS OR IMPLIED
  29:../src/common/services/spi/sam_spi/spi_master.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  30:../src/common/services/spi/sam_spi/spi_master.c ****  * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT ARE
  31:../src/common/services/spi/sam_spi/spi_master.c ****  * EXPRESSLY AND SPECIFICALLY DISCLAIMED. IN NO EVENT SHALL ATMEL BE LIABLE FOR
  32:../src/common/services/spi/sam_spi/spi_master.c ****  * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  33:../src/common/services/spi/sam_spi/spi_master.c ****  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
  34:../src/common/services/spi/sam_spi/spi_master.c ****  * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
  35:../src/common/services/spi/sam_spi/spi_master.c ****  * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
  36:../src/common/services/spi/sam_spi/spi_master.c ****  * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
  37:../src/common/services/spi/sam_spi/spi_master.c ****  * ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  38:../src/common/services/spi/sam_spi/spi_master.c ****  * POSSIBILITY OF SUCH DAMAGE.
  39:../src/common/services/spi/sam_spi/spi_master.c ****  *
  40:../src/common/services/spi/sam_spi/spi_master.c ****  * \asf_license_stop
  41:../src/common/services/spi/sam_spi/spi_master.c ****  *
  42:../src/common/services/spi/sam_spi/spi_master.c ****  */
  43:../src/common/services/spi/sam_spi/spi_master.c **** /*
  44:../src/common/services/spi/sam_spi/spi_master.c ****  * Support and FAQ: visit <a href="http://www.atmel.com/design-support/">Atmel Support</a>
  45:../src/common/services/spi/sam_spi/spi_master.c ****  */
  46:../src/common/services/spi/sam_spi/spi_master.c **** 
  47:../src/common/services/spi/sam_spi/spi_master.c **** #include "spi_master.h"
  48:../src/common/services/spi/sam_spi/spi_master.c **** #if SAMG55
  49:../src/common/services/spi/sam_spi/spi_master.c **** #include "flexcom.h"
  50:../src/common/services/spi/sam_spi/spi_master.c **** #include "conf_board.h"
  51:../src/common/services/spi/sam_spi/spi_master.c **** #endif
  52:../src/common/services/spi/sam_spi/spi_master.c **** 
  53:../src/common/services/spi/sam_spi/spi_master.c **** /**
  54:../src/common/services/spi/sam_spi/spi_master.c ****  * \brief Max number when the chip selects are connected to a 4- to 16-bit decoder.
  55:../src/common/services/spi/sam_spi/spi_master.c ****  */
  56:../src/common/services/spi/sam_spi/spi_master.c **** #define MAX_NUM_WITH_DECODER 0x10
  57:../src/common/services/spi/sam_spi/spi_master.c **** 
  58:../src/common/services/spi/sam_spi/spi_master.c **** /**
  59:../src/common/services/spi/sam_spi/spi_master.c ****  * \brief Max number when the chip selects are directly connected to peripheral device.
  60:../src/common/services/spi/sam_spi/spi_master.c ****  */
  61:../src/common/services/spi/sam_spi/spi_master.c **** #define MAX_NUM_WITHOUT_DECODER 0x04
  62:../src/common/services/spi/sam_spi/spi_master.c **** 
  63:../src/common/services/spi/sam_spi/spi_master.c **** /**
  64:../src/common/services/spi/sam_spi/spi_master.c ****  * \brief Max number when the chip selects are directly connected to peripheral device.
  65:../src/common/services/spi/sam_spi/spi_master.c ****  */
  66:../src/common/services/spi/sam_spi/spi_master.c **** #define NONE_CHIP_SELECT_ID 0x0f
  67:../src/common/services/spi/sam_spi/spi_master.c **** 
  68:../src/common/services/spi/sam_spi/spi_master.c **** /**
  69:../src/common/services/spi/sam_spi/spi_master.c ****  * \brief The default chip select id.
  70:../src/common/services/spi/sam_spi/spi_master.c ****  */
  71:../src/common/services/spi/sam_spi/spi_master.c **** #define DEFAULT_CHIP_ID 0
  72:../src/common/services/spi/sam_spi/spi_master.c **** 
  73:../src/common/services/spi/sam_spi/spi_master.c **** /**
  74:../src/common/services/spi/sam_spi/spi_master.c ****  * \brief Behavior of master with fixed selected slave, or select with TD high byte.
  75:../src/common/services/spi/sam_spi/spi_master.c ****  */
  76:../src/common/services/spi/sam_spi/spi_master.c **** #define SET_VARIABLE_PERIPHERAL_SELECT
  77:../src/common/services/spi/sam_spi/spi_master.c **** 
  78:../src/common/services/spi/sam_spi/spi_master.c **** /** \brief Initialize the SPI in master mode.
  79:../src/common/services/spi/sam_spi/spi_master.c ****  *
  80:../src/common/services/spi/sam_spi/spi_master.c ****  * \param p_spi  Base address of the SPI instance.
  81:../src/common/services/spi/sam_spi/spi_master.c ****  *
  82:../src/common/services/spi/sam_spi/spi_master.c ****  */
  83:../src/common/services/spi/sam_spi/spi_master.c **** void spi_master_init(Spi *p_spi)
  84:../src/common/services/spi/sam_spi/spi_master.c **** {
  28              		.loc 1 84 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              	.LVL0:
  33 0000 10B5     		push	{r4, lr}
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 4, -8
  36              		.cfi_offset 14, -4
  37 0002 0446     		mov	r4, r0
  85:../src/common/services/spi/sam_spi/spi_master.c **** #if SAMG55
  86:../src/common/services/spi/sam_spi/spi_master.c **** 	flexcom_enable(BOARD_FLEXCOM_SPI);
  87:../src/common/services/spi/sam_spi/spi_master.c **** 	flexcom_set_opmode(BOARD_FLEXCOM_SPI, FLEXCOM_SPI);
  88:../src/common/services/spi/sam_spi/spi_master.c **** #else
  89:../src/common/services/spi/sam_spi/spi_master.c **** 	spi_enable_clock(p_spi);
  38              		.loc 1 89 0
  39 0004 FFF7FEFF 		bl	spi_enable_clock
  40              	.LVL1:
  41              	.LBB58:
  42              	.LBB59:
  43              		.file 2 "/home/bekeband/workspace/OLIMEX_Start/src/spi.h"
   1:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
   2:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \file
   3:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
   4:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Serial Peripheral Interface (SPI) driver for SAM.
   5:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
   6:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * Copyright (c) 2011-2016 Atmel Corporation. All rights reserved.
   7:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
   8:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \asf_license_start
   9:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
  10:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \page License
  11:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
  12:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * Redistribution and use in source and binary forms, with or without
  13:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * modification, are permitted provided that the following conditions are met:
  14:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
  15:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * 1. Redistributions of source code must retain the above copyright notice,
  16:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *    this list of conditions and the following disclaimer.
  17:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
  18:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  19:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *    this list of conditions and the following disclaimer in the documentation
  20:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *    and/or other materials provided with the distribution.
  21:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
  22:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * 3. The name of Atmel may not be used to endorse or promote products derived
  23:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *    from this software without specific prior written permission.
  24:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
  25:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * 4. This software may only be redistributed and used in connection with an
  26:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *    Atmel microcontroller product.
  27:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
  28:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * THIS SOFTWARE IS PROVIDED BY ATMEL "AS IS" AND ANY EXPRESS OR IMPLIED
  29:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  30:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT ARE
  31:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * EXPRESSLY AND SPECIFICALLY DISCLAIMED. IN NO EVENT SHALL ATMEL BE LIABLE FOR
  32:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  33:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
  34:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
  35:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
  36:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
  37:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  38:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * POSSIBILITY OF SUCH DAMAGE.
  39:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
  40:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \asf_license_stop
  41:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
  42:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
  43:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /*
  44:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * Support and FAQ: visit <a href="http://www.atmel.com/design-support/">Atmel Support</a>
  45:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
  46:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
  47:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** #ifndef SPI_H_INCLUDED
  48:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** #define SPI_H_INCLUDED
  49:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
  50:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** #include "compiler.h"
  51:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
  52:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /// @cond 0
  53:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**INDENT-OFF**/
  54:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** #ifdef __cplusplus
  55:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** extern "C" {
  56:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** #endif
  57:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**INDENT-ON**/
  58:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /// @endcond
  59:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
  60:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /** Time-out value (number of attempts). */
  61:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** #define SPI_TIMEOUT       150000
  62:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
  63:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /** Status codes used by the SPI driver. */
  64:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** typedef enum
  65:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
  66:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	SPI_ERROR = -1,
  67:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	SPI_OK = 0,
  68:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	SPI_ERROR_TIMEOUT = 1,
  69:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	SPI_ERROR_ARGUMENT,
  70:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	SPI_ERROR_OVERRUN,
  71:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	SPI_ERROR_MODE_FAULT,
  72:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	SPI_ERROR_OVERRUN_AND_MODE_FAULT
  73:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** } spi_status_t;
  74:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
  75:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /** SPI Chip Select behavior modes while transferring. */
  76:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** typedef enum spi_cs_behavior {
  77:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	/** CS does not rise until a new transfer is requested on different chip select. */
  78:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	SPI_CS_KEEP_LOW = SPI_CSR_CSAAT,
  79:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	/** CS rises if there is no more data to transfer. */
  80:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	SPI_CS_RISE_NO_TX = 0,
  81:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	/** CS is de-asserted systematically during a time DLYBCS. */
  82:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	SPI_CS_RISE_FORCED = SPI_CSR_CSNAAT
  83:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** } spi_cs_behavior_t;
  84:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
  85:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
  86:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Generate Peripheral Chip Select Value from Chip Select ID
  87:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \note When chip select n is working, PCS bit n is set to low level.
  88:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
  89:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param chip_sel_id The chip select number used
  90:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
  91:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** #define spi_get_pcs(chip_sel_id) ((~(1u<<(chip_sel_id)))&0xF)
  92:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
  93:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
  94:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Reset SPI and set it to Slave mode.
  95:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
  96:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param p_spi Pointer to an SPI instance.
  97:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
  98:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** static inline void spi_reset(Spi *p_spi)
  99:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
 100:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	p_spi->SPI_CR = SPI_CR_SWRST;
  44              		.loc 2 100 0
  45 0008 8023     		movs	r3, #128
  46 000a 2360     		str	r3, [r4]
  47              	.LVL2:
  48              	.LBE59:
  49              	.LBE58:
  50              	.LBB60:
  51              	.LBB61:
 101:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 102:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
 103:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
 104:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Enable SPI.
 105:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 106:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param p_spi Pointer to an SPI instance.
 107:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
 108:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** static inline void spi_enable(Spi *p_spi)
 109:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
 110:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	p_spi->SPI_CR = SPI_CR_SPIEN;
 111:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 112:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
 113:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
 114:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Disable SPI.
 115:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 116:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \note CS is de-asserted, which indicates that the last data is done, and user
 117:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * should check TX_EMPTY before disabling SPI.
 118:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 119:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param p_spi Pointer to an SPI instance.
 120:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
 121:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** static inline void spi_disable(Spi *p_spi)
 122:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
 123:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	p_spi->SPI_CR = SPI_CR_SPIDIS;
 124:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 125:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
 126:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
 127:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Issue a LASTXFER command.
 128:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *  The next transfer is the last transfer and after that CS is de-asserted.
 129:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 130:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param p_spi Pointer to an SPI instance.
 131:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
 132:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** static inline void spi_set_lastxfer(Spi *p_spi)
 133:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
 134:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	p_spi->SPI_CR = SPI_CR_LASTXFER;
 135:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 136:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
 137:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
 138:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Set SPI to Master mode.
 139:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 140:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param p_spi Pointer to an SPI instance.
 141:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
 142:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** static inline void spi_set_master_mode(Spi *p_spi)
 143:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
 144:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	p_spi->SPI_MR |= SPI_MR_MSTR;
  52              		.loc 2 144 0
  53 000c 6368     		ldr	r3, [r4, #4]
  54 000e 43F00103 		orr	r3, r3, #1
  55 0012 6360     		str	r3, [r4, #4]
  56              	.LVL3:
  57              	.LBE61:
  58              	.LBE60:
  59              	.LBB62:
  60              	.LBB63:
 145:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 146:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
 147:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
 148:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Set SPI to Slave mode.
 149:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 150:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param p_spi Pointer to an SPI instance.
 151:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
 152:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** static inline void spi_set_slave_mode(Spi *p_spi)
 153:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
 154:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	p_spi->SPI_MR &= (~SPI_MR_MSTR);
 155:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 156:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
 157:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
 158:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Get SPI work mode.
 159:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 160:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param p_spi Pointer to an SPI instance.
 161:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 162:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \return 1 for master mode, 0 for slave mode.
 163:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
 164:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** static inline uint32_t spi_get_mode(Spi *p_spi)
 165:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
 166:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	if (p_spi->SPI_MR & SPI_MR_MSTR) {
 167:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 		return 1;
 168:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	} else {
 169:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 		return 0;
 170:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	}
 171:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 172:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
 173:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
 174:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Set Variable Peripheral Select.
 175:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * Peripheral Chip Select can be controlled by SPI_TDR.
 176:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 177:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param p_spi Pointer to an SPI instance.
 178:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
 179:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** static inline void spi_set_variable_peripheral_select(Spi *p_spi)
 180:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
 181:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	p_spi->SPI_MR |= SPI_MR_PS;
 182:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 183:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
 184:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
 185:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Set Fixed Peripheral Select.
 186:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *  Peripheral Chip Select is controlled by SPI_MR.
 187:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 188:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param p_spi Pointer to an SPI instance.
 189:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
 190:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** static inline void spi_set_fixed_peripheral_select(Spi *p_spi)
 191:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
 192:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	p_spi->SPI_MR &= (~SPI_MR_PS);
 193:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 194:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
 195:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
 196:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Get Peripheral Select mode.
 197:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 198:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param p_spi Pointer to an SPI instance.
 199:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 200:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \return 1 for Variable mode, 0 for fixed mode.
 201:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
 202:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** static inline uint32_t spi_get_peripheral_select_mode(Spi *p_spi)
 203:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
 204:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	if (p_spi->SPI_MR & SPI_MR_PS) {
 205:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 		return 1;
 206:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	} else {
 207:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 		return 0;
 208:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	}
 209:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 210:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
 211:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
 212:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Enable Peripheral Select Decode.
 213:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 214:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param p_spi Pointer to an SPI instance.
 215:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
 216:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** static inline void spi_enable_peripheral_select_decode(Spi *p_spi)
 217:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
 218:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	p_spi->SPI_MR |= SPI_MR_PCSDEC;
 219:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 220:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
 221:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
 222:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Disable Peripheral Select Decode.
 223:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 224:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param p_spi Pointer to an SPI instance.
 225:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
 226:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** static inline void spi_disable_peripheral_select_decode(Spi *p_spi)
 227:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
 228:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	p_spi->SPI_MR &= (~SPI_MR_PCSDEC);
 229:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 230:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
 231:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
 232:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Get Peripheral Select Decode mode.
 233:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 234:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param p_spi Pointer to an SPI instance.
 235:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 236:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \return 1 for decode mode, 0 for direct mode.
 237:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
 238:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** static inline uint32_t spi_get_peripheral_select_decode_setting(Spi *p_spi)
 239:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
 240:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	if (p_spi->SPI_MR & SPI_MR_PCSDEC) {
 241:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 		return 1;
 242:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	} else {
 243:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 		return 0;
 244:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	}
 245:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 246:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
 247:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
 248:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Enable Mode Fault Detection.
 249:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 250:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param p_spi Pointer to an SPI instance.
 251:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
 252:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** static inline void spi_enable_mode_fault_detect(Spi *p_spi)
 253:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
 254:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	p_spi->SPI_MR &= (~SPI_MR_MODFDIS);
 255:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 256:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
 257:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
 258:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Disable Mode Fault Detection.
 259:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 260:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param p_spi Pointer to an SPI instance.
 261:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
 262:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** static inline void spi_disable_mode_fault_detect(Spi *p_spi)
 263:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
 264:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	p_spi->SPI_MR |= SPI_MR_MODFDIS;
  61              		.loc 2 264 0
  62 0014 6368     		ldr	r3, [r4, #4]
  63 0016 43F01003 		orr	r3, r3, #16
  64 001a 6360     		str	r3, [r4, #4]
  65              	.LVL4:
  66              	.LBE63:
  67              	.LBE62:
  68              	.LBB64:
  69              	.LBB65:
 265:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 266:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
 267:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
 268:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Check if mode fault detection is enabled.
 269:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 270:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param p_spi Pointer to an SPI instance.
 271:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 272:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \return 1 for disabled, 0 for enabled.
 273:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
 274:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** static inline uint32_t spi_get_mode_fault_detect_setting(Spi *p_spi)
 275:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
 276:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	if (p_spi->SPI_MR & SPI_MR_MODFDIS) {
 277:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 		return 1;
 278:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	} else {
 279:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 		return 0;
 280:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	}
 281:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 282:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
 283:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
 284:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Enable waiting RX_EMPTY before transfer starts.
 285:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 286:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param p_spi Pointer to an SPI instance.
 287:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
 288:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** static inline void spi_enable_tx_on_rx_empty(Spi *p_spi)
 289:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
 290:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	p_spi->SPI_MR |= SPI_MR_WDRBT;
 291:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 292:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
 293:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
 294:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Disable waiting RX_EMPTY before transfer starts.
 295:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 296:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param p_spi Pointer to an SPI instance.
 297:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
 298:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** static inline void spi_disable_tx_on_rx_empty(Spi *p_spi)
 299:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
 300:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	p_spi->SPI_MR &= (~SPI_MR_WDRBT);
 301:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 302:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
 303:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
 304:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Check if SPI waits RX_EMPTY before transfer starts.
 305:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 306:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param p_spi Pointer to an SPI instance.
 307:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 308:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \return 1 for SPI waits, 0 for no wait.
 309:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
 310:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** static inline uint32_t spi_get_tx_on_rx_empty_setting(Spi *p_spi)
 311:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
 312:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	if (p_spi->SPI_MR & SPI_MR_WDRBT) {
 313:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 		return 1;
 314:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	} else {
 315:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 		return 0;
 316:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	}
 317:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 318:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
 319:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
 320:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Enable loopback mode.
 321:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 322:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param p_spi Pointer to an SPI instance.
 323:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
 324:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** static inline void spi_enable_loopback(Spi *p_spi)
 325:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
 326:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	p_spi->SPI_MR |= SPI_MR_LLB;
 327:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 328:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
 329:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
 330:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Disable loopback mode.
 331:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 332:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param p_spi Pointer to an SPI instance.
 333:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
 334:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** static inline void spi_disable_loopback(Spi *p_spi)
 335:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
 336:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	p_spi->SPI_MR &= (~SPI_MR_LLB);
  70              		.loc 2 336 0
  71 001c 6368     		ldr	r3, [r4, #4]
  72 001e 23F08003 		bic	r3, r3, #128
  73 0022 6360     		str	r3, [r4, #4]
  74              	.LVL5:
  75              	.LBE65:
  76              	.LBE64:
  90:../src/common/services/spi/sam_spi/spi_master.c **** #endif
  91:../src/common/services/spi/sam_spi/spi_master.c **** 	spi_reset(p_spi);
  92:../src/common/services/spi/sam_spi/spi_master.c **** 	spi_set_master_mode(p_spi);
  93:../src/common/services/spi/sam_spi/spi_master.c **** 	spi_disable_mode_fault_detect(p_spi);
  94:../src/common/services/spi/sam_spi/spi_master.c **** 	spi_disable_loopback(p_spi);
  95:../src/common/services/spi/sam_spi/spi_master.c **** 	spi_set_peripheral_chip_select_value(p_spi, DEFAULT_CHIP_ID);
  77              		.loc 1 95 0
  78 0024 0021     		movs	r1, #0
  79 0026 2046     		mov	r0, r4
  80 0028 FFF7FEFF 		bl	spi_set_peripheral_chip_select_value
  81              	.LVL6:
  82              	.LBB66:
  83              	.LBB67:
 181:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
  84              		.loc 2 181 0
  85 002c 6368     		ldr	r3, [r4, #4]
  86 002e 43F00203 		orr	r3, r3, #2
  87 0032 6360     		str	r3, [r4, #4]
  88              	.LVL7:
  89              	.LBE67:
  90              	.LBE66:
  91              	.LBB68:
  92              	.LBB69:
 228:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
  93              		.loc 2 228 0
  94 0034 6368     		ldr	r3, [r4, #4]
  95 0036 23F00403 		bic	r3, r3, #4
  96 003a 6360     		str	r3, [r4, #4]
  97              	.LVL8:
  98              	.LBE69:
  99              	.LBE68:
  96:../src/common/services/spi/sam_spi/spi_master.c **** #if defined(SET_VARIABLE_PERIPHERAL_SELECT)
  97:../src/common/services/spi/sam_spi/spi_master.c **** 	spi_set_variable_peripheral_select(p_spi);
  98:../src/common/services/spi/sam_spi/spi_master.c **** #else
  99:../src/common/services/spi/sam_spi/spi_master.c **** 	spi_set_fixed_peripheral_select(p_spi);
 100:../src/common/services/spi/sam_spi/spi_master.c **** #endif
 101:../src/common/services/spi/sam_spi/spi_master.c **** 	spi_disable_peripheral_select_decode(p_spi);
 102:../src/common/services/spi/sam_spi/spi_master.c **** 	spi_set_delay_between_chip_select(p_spi, CONFIG_SPI_MASTER_DELAY_BCS);
 100              		.loc 1 102 0
 101 003c 0021     		movs	r1, #0
 102 003e 2046     		mov	r0, r4
 103 0040 FFF7FEFF 		bl	spi_set_delay_between_chip_select
 104              	.LVL9:
 105 0044 10BD     		pop	{r4, pc}
 106              		.cfi_endproc
 107              	.LFE128:
 109 0046 00BF     		.section	.text.spi_master_setup_device,"ax",%progbits
 110              		.align	2
 111              		.global	spi_master_setup_device
 112              		.thumb
 113              		.thumb_func
 115              	spi_master_setup_device:
 116              	.LFB129:
 103:../src/common/services/spi/sam_spi/spi_master.c **** }
 104:../src/common/services/spi/sam_spi/spi_master.c **** 
 105:../src/common/services/spi/sam_spi/spi_master.c **** /**
 106:../src/common/services/spi/sam_spi/spi_master.c ****  * \brief Set up an SPI device.
 107:../src/common/services/spi/sam_spi/spi_master.c ****  *
 108:../src/common/services/spi/sam_spi/spi_master.c ****  * The returned device descriptor structure must be passed to the driver
 109:../src/common/services/spi/sam_spi/spi_master.c ****  * whenever that device should be used as current slave device.
 110:../src/common/services/spi/sam_spi/spi_master.c ****  *
 111:../src/common/services/spi/sam_spi/spi_master.c ****  * \param p_spi     Base address of the SPI instance.
 112:../src/common/services/spi/sam_spi/spi_master.c ****  * \param device    Pointer to SPI device struct that should be initialized.
 113:../src/common/services/spi/sam_spi/spi_master.c ****  * \param flags     SPI configuration flags. Common flags for all
 114:../src/common/services/spi/sam_spi/spi_master.c ****  *                  implementations are the SPI modes SPI_MODE_0 ...
 115:../src/common/services/spi/sam_spi/spi_master.c ****  *                  SPI_MODE_3.
 116:../src/common/services/spi/sam_spi/spi_master.c ****  * \param baud_rate Baud rate for communication with slave device in Hz.
 117:../src/common/services/spi/sam_spi/spi_master.c ****  * \param sel_id    Board specific select id.
 118:../src/common/services/spi/sam_spi/spi_master.c ****  */
 119:../src/common/services/spi/sam_spi/spi_master.c **** void spi_master_setup_device(Spi *p_spi, struct spi_device *device,
 120:../src/common/services/spi/sam_spi/spi_master.c **** 		spi_flags_t flags, uint32_t baud_rate, board_spi_select_id_t sel_id)
 121:../src/common/services/spi/sam_spi/spi_master.c **** {
 117              		.loc 1 121 0
 118              		.cfi_startproc
 119              		@ args = 4, pretend = 0, frame = 0
 120              		@ frame_needed = 0, uses_anonymous_args = 0
 121              	.LVL10:
 122 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 123              		.cfi_def_cfa_offset 24
 124              		.cfi_offset 3, -24
 125              		.cfi_offset 4, -20
 126              		.cfi_offset 5, -16
 127              		.cfi_offset 6, -12
 128              		.cfi_offset 7, -8
 129              		.cfi_offset 14, -4
 130 0002 0446     		mov	r4, r0
 131 0004 0D46     		mov	r5, r1
 132 0006 1646     		mov	r6, r2
 122:../src/common/services/spi/sam_spi/spi_master.c **** #if (SAM4L)
 123:../src/common/services/spi/sam_spi/spi_master.c ****     int16_t baud_div = spi_calc_baudrate_div(baud_rate, sysclk_get_pba_hz());
 124:../src/common/services/spi/sam_spi/spi_master.c **** #else
 125:../src/common/services/spi/sam_spi/spi_master.c **** 	int16_t baud_div = spi_calc_baudrate_div(baud_rate, sysclk_get_peripheral_hz());
 133              		.loc 1 125 0
 134 0008 1349     		ldr	r1, .L5
 135              	.LVL11:
 136 000a 1846     		mov	r0, r3
 137              	.LVL12:
 138 000c FFF7FEFF 		bl	spi_calc_baudrate_div
 139              	.LVL13:
 140 0010 0746     		mov	r7, r0
 141              	.LVL14:
 126:../src/common/services/spi/sam_spi/spi_master.c **** #endif
 127:../src/common/services/spi/sam_spi/spi_master.c **** 	/* avoid Cppcheck Warning */
 128:../src/common/services/spi/sam_spi/spi_master.c **** 	UNUSED(sel_id);
 129:../src/common/services/spi/sam_spi/spi_master.c **** 	if (-1 == baud_div) {
 130:../src/common/services/spi/sam_spi/spi_master.c **** 		Assert(0 == "Failed to find baudrate divider");
 131:../src/common/services/spi/sam_spi/spi_master.c **** 	}
 132:../src/common/services/spi/sam_spi/spi_master.c **** 	spi_set_transfer_delay(p_spi, device->id, CONFIG_SPI_MASTER_DELAY_BS,
 142              		.loc 1 132 0
 143 0012 0023     		movs	r3, #0
 144 0014 1A46     		mov	r2, r3
 145 0016 2968     		ldr	r1, [r5]
 146 0018 2046     		mov	r0, r4
 147 001a FFF7FEFF 		bl	spi_set_transfer_delay
 148              	.LVL15:
 133:../src/common/services/spi/sam_spi/spi_master.c **** 			CONFIG_SPI_MASTER_DELAY_BCT);
 134:../src/common/services/spi/sam_spi/spi_master.c **** 	spi_set_bits_per_transfer(p_spi, device->id,
 149              		.loc 1 134 0
 150 001e 0822     		movs	r2, #8
 151 0020 2968     		ldr	r1, [r5]
 152 0022 2046     		mov	r0, r4
 153 0024 FFF7FEFF 		bl	spi_set_bits_per_transfer
 154              	.LVL16:
 135:../src/common/services/spi/sam_spi/spi_master.c **** 			CONFIG_SPI_MASTER_BITS_PER_TRANSFER);
 136:../src/common/services/spi/sam_spi/spi_master.c **** 	spi_set_baudrate_div(p_spi, device->id, baud_div);
 155              		.loc 1 136 0
 156 0028 FAB2     		uxtb	r2, r7
 157 002a 2968     		ldr	r1, [r5]
 158 002c 2046     		mov	r0, r4
 159 002e FFF7FEFF 		bl	spi_set_baudrate_div
 160              	.LVL17:
 137:../src/common/services/spi/sam_spi/spi_master.c **** 	spi_configure_cs_behavior(p_spi, device->id, SPI_CS_KEEP_LOW);
 161              		.loc 1 137 0
 162 0032 0822     		movs	r2, #8
 163 0034 2968     		ldr	r1, [r5]
 164 0036 2046     		mov	r0, r4
 165 0038 FFF7FEFF 		bl	spi_configure_cs_behavior
 166              	.LVL18:
 138:../src/common/services/spi/sam_spi/spi_master.c **** 	spi_set_clock_polarity(p_spi, device->id, flags >> 1);
 167              		.loc 1 138 0
 168 003c 7208     		lsrs	r2, r6, #1
 169 003e 2968     		ldr	r1, [r5]
 170 0040 2046     		mov	r0, r4
 171 0042 FFF7FEFF 		bl	spi_set_clock_polarity
 172              	.LVL19:
 139:../src/common/services/spi/sam_spi/spi_master.c **** 	spi_set_clock_phase(p_spi, device->id, ((flags & 0x1) ^ 0x1));
 173              		.loc 1 139 0
 174 0046 86F00102 		eor	r2, r6, #1
 175 004a 02F00102 		and	r2, r2, #1
 176 004e 2968     		ldr	r1, [r5]
 177 0050 2046     		mov	r0, r4
 178 0052 FFF7FEFF 		bl	spi_set_clock_phase
 179              	.LVL20:
 180 0056 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 181              	.LVL21:
 182              	.L6:
 183              		.align	2
 184              	.L5:
 185 0058 808D5B00 		.word	6000000
 186              		.cfi_endproc
 187              	.LFE129:
 189              		.section	.text.spi_select_device,"ax",%progbits
 190              		.align	2
 191              		.global	spi_select_device
 192              		.thumb
 193              		.thumb_func
 195              	spi_select_device:
 196              	.LFB130:
 140:../src/common/services/spi/sam_spi/spi_master.c **** }
 141:../src/common/services/spi/sam_spi/spi_master.c **** 
 142:../src/common/services/spi/sam_spi/spi_master.c **** /**
 143:../src/common/services/spi/sam_spi/spi_master.c ****  * \brief Select the given device on the SPI bus.
 144:../src/common/services/spi/sam_spi/spi_master.c ****  *
 145:../src/common/services/spi/sam_spi/spi_master.c ****  * Set device specific setting and call board chip select.
 146:../src/common/services/spi/sam_spi/spi_master.c ****  *
 147:../src/common/services/spi/sam_spi/spi_master.c ****  * \param p_spi   Base address of the SPI instance.
 148:../src/common/services/spi/sam_spi/spi_master.c ****  * \param device  SPI device.
 149:../src/common/services/spi/sam_spi/spi_master.c ****  *
 150:../src/common/services/spi/sam_spi/spi_master.c ****  */
 151:../src/common/services/spi/sam_spi/spi_master.c **** void spi_select_device(Spi *p_spi, struct spi_device *device)
 152:../src/common/services/spi/sam_spi/spi_master.c **** {
 197              		.loc 1 152 0
 198              		.cfi_startproc
 199              		@ args = 0, pretend = 0, frame = 0
 200              		@ frame_needed = 0, uses_anonymous_args = 0
 201              	.LVL22:
 202 0000 08B5     		push	{r3, lr}
 203              		.cfi_def_cfa_offset 8
 204              		.cfi_offset 3, -8
 205              		.cfi_offset 14, -4
 206              	.LVL23:
 207              	.LBB70:
 208              	.LBB71:
 240:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 		return 1;
 209              		.loc 2 240 0
 210 0002 4368     		ldr	r3, [r0, #4]
 211 0004 13F00403 		ands	r3, r3, #4
 212 0008 00D0     		beq	.L8
 241:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	} else {
 213              		.loc 2 241 0
 214 000a 0123     		movs	r3, #1
 215              	.L8:
 216              	.LVL24:
 217              	.LBE71:
 218              	.LBE70:
 153:../src/common/services/spi/sam_spi/spi_master.c **** 	if (spi_get_peripheral_select_decode_setting(p_spi)) {
 219              		.loc 1 153 0
 220 000c 2BB1     		cbz	r3, .L9
 154:../src/common/services/spi/sam_spi/spi_master.c **** 		if (device->id < MAX_NUM_WITH_DECODER) {
 221              		.loc 1 154 0
 222 000e 0968     		ldr	r1, [r1]
 223              	.LVL25:
 224 0010 0F29     		cmp	r1, #15
 225 0012 0AD8     		bhi	.L7
 155:../src/common/services/spi/sam_spi/spi_master.c **** 			spi_set_peripheral_chip_select_value(p_spi, device->id);
 226              		.loc 1 155 0
 227 0014 FFF7FEFF 		bl	spi_set_peripheral_chip_select_value
 228              	.LVL26:
 229 0018 08BD     		pop	{r3, pc}
 230              	.LVL27:
 231              	.L9:
 156:../src/common/services/spi/sam_spi/spi_master.c **** 		}
 157:../src/common/services/spi/sam_spi/spi_master.c **** 	} else {
 158:../src/common/services/spi/sam_spi/spi_master.c **** 		if (device->id < MAX_NUM_WITHOUT_DECODER) {
 232              		.loc 1 158 0
 233 001a 0B68     		ldr	r3, [r1]
 234 001c 032B     		cmp	r3, #3
 235 001e 04D8     		bhi	.L7
 159:../src/common/services/spi/sam_spi/spi_master.c **** 			spi_set_peripheral_chip_select_value(p_spi, (~(1 << device->id)));
 236              		.loc 1 159 0
 237 0020 0121     		movs	r1, #1
 238              	.LVL28:
 239 0022 9940     		lsls	r1, r1, r3
 240 0024 C943     		mvns	r1, r1
 241 0026 FFF7FEFF 		bl	spi_set_peripheral_chip_select_value
 242              	.LVL29:
 243              	.L7:
 244 002a 08BD     		pop	{r3, pc}
 245              		.cfi_endproc
 246              	.LFE130:
 248              		.section	.text.spi_deselect_device,"ax",%progbits
 249              		.align	2
 250              		.global	spi_deselect_device
 251              		.thumb
 252              		.thumb_func
 254              	spi_deselect_device:
 255              	.LFB131:
 160:../src/common/services/spi/sam_spi/spi_master.c **** 		}
 161:../src/common/services/spi/sam_spi/spi_master.c **** 	}
 162:../src/common/services/spi/sam_spi/spi_master.c **** }
 163:../src/common/services/spi/sam_spi/spi_master.c **** 
 164:../src/common/services/spi/sam_spi/spi_master.c **** /**
 165:../src/common/services/spi/sam_spi/spi_master.c ****  * \brief Deselect the given device on the SPI bus.
 166:../src/common/services/spi/sam_spi/spi_master.c ****  *
 167:../src/common/services/spi/sam_spi/spi_master.c ****  * Call board chip deselect.
 168:../src/common/services/spi/sam_spi/spi_master.c ****  *
 169:../src/common/services/spi/sam_spi/spi_master.c ****  * \param p_spi   Base address of the SPI instance.
 170:../src/common/services/spi/sam_spi/spi_master.c ****  * \param device  SPI device.
 171:../src/common/services/spi/sam_spi/spi_master.c ****  *
 172:../src/common/services/spi/sam_spi/spi_master.c ****  * \pre SPI device must be selected with spi_select_device() first.
 173:../src/common/services/spi/sam_spi/spi_master.c ****  */
 174:../src/common/services/spi/sam_spi/spi_master.c **** void spi_deselect_device(Spi *p_spi, struct spi_device *device)
 175:../src/common/services/spi/sam_spi/spi_master.c **** {
 256              		.loc 1 175 0
 257              		.cfi_startproc
 258              		@ args = 0, pretend = 0, frame = 0
 259              		@ frame_needed = 0, uses_anonymous_args = 0
 260              	.LVL30:
 261 0000 10B5     		push	{r4, lr}
 262              		.cfi_def_cfa_offset 8
 263              		.cfi_offset 4, -8
 264              		.cfi_offset 14, -4
 265 0002 0446     		mov	r4, r0
 266              	.L14:
 267              	.LVL31:
 268              	.LBB72:
 269              	.LBB73:
 337:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 338:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
 339:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** void spi_enable_clock(Spi *p_spi);
 340:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** void spi_disable_clock(Spi *p_spi);
 341:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** void spi_set_peripheral_chip_select_value(Spi *p_spi, uint32_t ul_value);
 342:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** void spi_set_delay_between_chip_select(Spi *p_spi, uint32_t ul_delay);
 343:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** spi_status_t spi_read(Spi *p_spi, uint16_t *us_data, uint8_t *p_pcs);
 344:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** spi_status_t spi_write(Spi *p_spi, uint16_t us_data, uint8_t uc_pcs,
 345:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 		uint8_t uc_last);
 346:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
 347:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
 348:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Read status register.
 349:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 350:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param p_spi Pointer to an SPI instance.
 351:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 352:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \return SPI status register value.
 353:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
 354:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** static inline uint32_t spi_read_status(Spi *p_spi)
 355:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
 356:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	return p_spi->SPI_SR;
 357:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 358:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
 359:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
 360:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Test if the SPI is enabled.
 361:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 362:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param p_spi Pointer to an SPI instance.
 363:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 364:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \return 1 if the SPI is enabled, otherwise 0.
 365:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
 366:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** static inline uint32_t spi_is_enabled(Spi *p_spi)
 367:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
 368:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	if (p_spi->SPI_SR & SPI_SR_SPIENS) {
 369:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 		return 1;
 370:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	} else {
 371:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 		return 0;
 372:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	}
 373:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 374:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
 375:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
 376:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Put one data to a SPI peripheral.
 377:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 378:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param p_spi Base address of the SPI instance.
 379:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param data The data byte to be loaded
 380:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 381:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
 382:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** static inline void spi_put(Spi *p_spi, uint16_t data)
 383:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
 384:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	p_spi->SPI_TDR = SPI_TDR_TD(data);
 385:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 386:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
 387:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /** \brief Get one data to a SPI peripheral.
 388:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 389:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param p_spi Base address of the SPI instance.
 390:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \return The data byte
 391:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 392:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
 393:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** static inline uint16_t spi_get(Spi *p_spi)
 394:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
 395:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	return (p_spi->SPI_RDR & SPI_RDR_RD_Msk);
 396:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 397:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
 398:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
 399:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Check if all transmissions are complete.
 400:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 401:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param p_spi Pointer to an SPI instance.
 402:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 403:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \retval 1 if transmissions are complete.
 404:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \retval 0 if transmissions are not complete.
 405:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
 406:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** static inline uint32_t spi_is_tx_empty(Spi *p_spi)
 407:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
 408:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	if (p_spi->SPI_SR & SPI_SR_TXEMPTY) {
 270              		.loc 2 408 0 discriminator 1
 271 0004 2369     		ldr	r3, [r4, #16]
 272 0006 13F40073 		ands	r3, r3, #512
 273 000a 00D0     		beq	.L13
 409:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 		return 1;
 274              		.loc 2 409 0
 275 000c 0123     		movs	r3, #1
 276              	.L13:
 277              	.LVL32:
 278              	.LBE73:
 279              	.LBE72:
 176:../src/common/services/spi/sam_spi/spi_master.c **** 	/* avoid Cppcheck Warning */
 177:../src/common/services/spi/sam_spi/spi_master.c **** 	UNUSED(device);
 178:../src/common/services/spi/sam_spi/spi_master.c **** 	while (!spi_is_tx_empty(p_spi)) {
 280              		.loc 1 178 0
 281 000e 002B     		cmp	r3, #0
 282 0010 F8D0     		beq	.L14
 179:../src/common/services/spi/sam_spi/spi_master.c **** 	}
 180:../src/common/services/spi/sam_spi/spi_master.c **** 
 181:../src/common/services/spi/sam_spi/spi_master.c **** 	// Assert all lines; no peripheral is selected.
 182:../src/common/services/spi/sam_spi/spi_master.c **** 	spi_set_peripheral_chip_select_value(p_spi, NONE_CHIP_SELECT_ID);
 283              		.loc 1 182 0
 284 0012 0F21     		movs	r1, #15
 285              	.LVL33:
 286 0014 2046     		mov	r0, r4
 287              	.LVL34:
 288 0016 FFF7FEFF 		bl	spi_set_peripheral_chip_select_value
 289              	.LVL35:
 290              	.LBB74:
 291              	.LBB75:
 134:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 292              		.loc 2 134 0
 293 001a 4FF08073 		mov	r3, #16777216
 294 001e 2360     		str	r3, [r4]
 295              	.LVL36:
 296 0020 10BD     		pop	{r4, pc}
 297              	.LBE75:
 298              	.LBE74:
 299              		.cfi_endproc
 300              	.LFE131:
 302 0022 00BF     		.section	.text.spi_write_packet,"ax",%progbits
 303              		.align	2
 304              		.global	spi_write_packet
 305              		.thumb
 306              		.thumb_func
 308              	spi_write_packet:
 309              	.LFB132:
 183:../src/common/services/spi/sam_spi/spi_master.c **** 
 184:../src/common/services/spi/sam_spi/spi_master.c **** 	// Last transfer, so de-assert the current NPCS if CSAAT is set.
 185:../src/common/services/spi/sam_spi/spi_master.c **** 	spi_set_lastxfer(p_spi);
 186:../src/common/services/spi/sam_spi/spi_master.c **** 
 187:../src/common/services/spi/sam_spi/spi_master.c **** }
 188:../src/common/services/spi/sam_spi/spi_master.c **** 
 189:../src/common/services/spi/sam_spi/spi_master.c **** /**
 190:../src/common/services/spi/sam_spi/spi_master.c ****  * \brief Send a sequence of bytes to an SPI device.
 191:../src/common/services/spi/sam_spi/spi_master.c ****  *
 192:../src/common/services/spi/sam_spi/spi_master.c ****  * Received bytes on the SPI bus are discarded.
 193:../src/common/services/spi/sam_spi/spi_master.c ****  *
 194:../src/common/services/spi/sam_spi/spi_master.c ****  * \param p_spi     Base address of the SPI instance.
 195:../src/common/services/spi/sam_spi/spi_master.c ****  * \param data      Data buffer to write.
 196:../src/common/services/spi/sam_spi/spi_master.c ****  * \param len       Length of data to be written.
 197:../src/common/services/spi/sam_spi/spi_master.c ****  * \param device    SPI device for peripheral select information.
 198:../src/common/services/spi/sam_spi/spi_master.c ****  * \pre SPI device must be selected with spi_select_device() first, except if defined SET_VARIABLE_
 199:../src/common/services/spi/sam_spi/spi_master.c ****  * selected device to write from device.id field.
 200:../src/common/services/spi/sam_spi/spi_master.c ****  */
 201:../src/common/services/spi/sam_spi/spi_master.c **** status_code_t spi_write_packet(Spi *p_spi, const uint8_t *data,
 202:../src/common/services/spi/sam_spi/spi_master.c **** 		size_t len)
 203:../src/common/services/spi/sam_spi/spi_master.c **** {
 310              		.loc 1 203 0
 311              		.cfi_startproc
 312              		@ args = 0, pretend = 0, frame = 0
 313              		@ frame_needed = 0, uses_anonymous_args = 0
 314              		@ link register save eliminated.
 315              	.LVL37:
 316 0000 30B4     		push	{r4, r5}
 317              		.cfi_def_cfa_offset 8
 318              		.cfi_offset 4, -8
 319              		.cfi_offset 5, -4
 320              	.LVL38:
 204:../src/common/services/spi/sam_spi/spi_master.c **** 	uint32_t timeout = SPI_TIMEOUT;
 205:../src/common/services/spi/sam_spi/spi_master.c **** 	uint32_t i = 0;
 321              		.loc 1 205 0
 322 0002 0025     		movs	r5, #0
 206:../src/common/services/spi/sam_spi/spi_master.c **** 	uint8_t val;
 207:../src/common/services/spi/sam_spi/spi_master.c **** 
 208:../src/common/services/spi/sam_spi/spi_master.c **** 	while (len) {
 323              		.loc 1 208 0
 324 0004 0FE0     		b	.L17
 325              	.LVL39:
 326              	.L20:
 209:../src/common/services/spi/sam_spi/spi_master.c **** 		timeout = SPI_TIMEOUT;
 210:../src/common/services/spi/sam_spi/spi_master.c **** 		while (!spi_is_tx_ready(p_spi)) {
 211:../src/common/services/spi/sam_spi/spi_master.c **** 			if (!timeout--) {
 327              		.loc 1 211 0
 328 0006 631E     		subs	r3, r4, #1
 329              	.LVL40:
 330 0008 8CB1     		cbz	r4, .L22
 331 000a 1C46     		mov	r4, r3
 332 000c 00E0     		b	.L21
 333              	.LVL41:
 334              	.L23:
 335 000e 0A4C     		ldr	r4, .L25
 336              	.L21:
 337              	.LVL42:
 338              	.LBB76:
 339              	.LBB77:
 410:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	} else {
 411:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 		return 0;
 412:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	}
 413:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 414:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
 415:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
 416:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Check if all transmissions are ready.
 417:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 418:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param p_spi Pointer to an SPI instance.
 419:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 420:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \retval 1 if transmissions are complete.
 421:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \retval 0 if transmissions are not complete.
 422:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
 423:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** static inline uint32_t spi_is_tx_ready(Spi *p_spi)
 424:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
 425:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	if (p_spi->SPI_SR & SPI_SR_TDRE) {
 340              		.loc 2 425 0
 341 0010 0369     		ldr	r3, [r0, #16]
 342 0012 13F00203 		ands	r3, r3, #2
 343 0016 00D0     		beq	.L19
 426:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 		return 1;
 344              		.loc 2 426 0
 345 0018 0123     		movs	r3, #1
 346              	.L19:
 347              	.LVL43:
 348              	.LBE77:
 349              	.LBE76:
 210:../src/common/services/spi/sam_spi/spi_master.c **** 			if (!timeout--) {
 350              		.loc 1 210 0
 351 001a 002B     		cmp	r3, #0
 352 001c F3D0     		beq	.L20
 212:../src/common/services/spi/sam_spi/spi_master.c **** 				return ERR_TIMEOUT;
 213:../src/common/services/spi/sam_spi/spi_master.c **** 			}
 214:../src/common/services/spi/sam_spi/spi_master.c **** 		}
 215:../src/common/services/spi/sam_spi/spi_master.c **** 		val = data[i];
 353              		.loc 1 215 0
 354 001e 4B5D     		ldrb	r3, [r1, r5]	@ zero_extendqisi2
 355              	.LVL44:
 356              	.LBB78:
 357              	.LBB79:
 358              	.LBB80:
 384:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 359              		.loc 2 384 0
 360 0020 C360     		str	r3, [r0, #12]
 361              	.LVL45:
 362              	.LBE80:
 363              	.LBE79:
 364              	.LBE78:
 216:../src/common/services/spi/sam_spi/spi_master.c **** 		spi_write_single(p_spi, val);
 217:../src/common/services/spi/sam_spi/spi_master.c **** 		i++;
 365              		.loc 1 217 0
 366 0022 0135     		adds	r5, r5, #1
 367              	.LVL46:
 218:../src/common/services/spi/sam_spi/spi_master.c **** 		len--;
 368              		.loc 1 218 0
 369 0024 013A     		subs	r2, r2, #1
 370              	.LVL47:
 371              	.L17:
 208:../src/common/services/spi/sam_spi/spi_master.c **** 		timeout = SPI_TIMEOUT;
 372              		.loc 1 208 0
 373 0026 002A     		cmp	r2, #0
 374 0028 F1D1     		bne	.L23
 219:../src/common/services/spi/sam_spi/spi_master.c **** 	}
 220:../src/common/services/spi/sam_spi/spi_master.c **** 
 221:../src/common/services/spi/sam_spi/spi_master.c **** 	return STATUS_OK;
 375              		.loc 1 221 0
 376 002a 0020     		movs	r0, #0
 377              	.LVL48:
 378 002c 00E0     		b	.L18
 379              	.LVL49:
 380              	.L22:
 212:../src/common/services/spi/sam_spi/spi_master.c **** 			}
 381              		.loc 1 212 0
 382 002e FD20     		movs	r0, #253
 383              	.LVL50:
 384              	.L18:
 222:../src/common/services/spi/sam_spi/spi_master.c **** }
 385              		.loc 1 222 0
 386 0030 40B2     		sxtb	r0, r0
 387 0032 30BC     		pop	{r4, r5}
 388              		.cfi_restore 5
 389              		.cfi_restore 4
 390              		.cfi_def_cfa_offset 0
 391              	.LVL51:
 392 0034 7047     		bx	lr
 393              	.L26:
 394 0036 00BF     		.align	2
 395              	.L25:
 396 0038 F0490200 		.word	150000
 397              		.cfi_endproc
 398              	.LFE132:
 400              		.section	.text.spi_read_packet,"ax",%progbits
 401              		.align	2
 402              		.global	spi_read_packet
 403              		.thumb
 404              		.thumb_func
 406              	spi_read_packet:
 407              	.LFB133:
 223:../src/common/services/spi/sam_spi/spi_master.c **** 
 224:../src/common/services/spi/sam_spi/spi_master.c **** /**
 225:../src/common/services/spi/sam_spi/spi_master.c ****  * \brief Receive a sequence of bytes from an SPI device.
 226:../src/common/services/spi/sam_spi/spi_master.c ****  *
 227:../src/common/services/spi/sam_spi/spi_master.c ****  * All bytes sent out on SPI bus are sent as value 0.
 228:../src/common/services/spi/sam_spi/spi_master.c ****  *
 229:../src/common/services/spi/sam_spi/spi_master.c ****  * \param p_spi     Base address of the SPI instance.
 230:../src/common/services/spi/sam_spi/spi_master.c ****  * \param data      Data buffer to read.
 231:../src/common/services/spi/sam_spi/spi_master.c ****  * \param len       Length of data to be read.
 232:../src/common/services/spi/sam_spi/spi_master.c ****  *
 233:../src/common/services/spi/sam_spi/spi_master.c ****  * \pre SPI device must be selected with spi_select_device() first.
 234:../src/common/services/spi/sam_spi/spi_master.c ****  */
 235:../src/common/services/spi/sam_spi/spi_master.c **** status_code_t spi_read_packet(Spi *p_spi, uint8_t *data, size_t len)
 236:../src/common/services/spi/sam_spi/spi_master.c **** {
 408              		.loc 1 236 0
 409              		.cfi_startproc
 410              		@ args = 0, pretend = 0, frame = 0
 411              		@ frame_needed = 0, uses_anonymous_args = 0
 412              		@ link register save eliminated.
 413              	.LVL52:
 414 0000 70B4     		push	{r4, r5, r6}
 415              		.cfi_def_cfa_offset 12
 416              		.cfi_offset 4, -12
 417              		.cfi_offset 5, -8
 418              		.cfi_offset 6, -4
 419              	.LVL53:
 237:../src/common/services/spi/sam_spi/spi_master.c **** 	uint32_t timeout = SPI_TIMEOUT;
 238:../src/common/services/spi/sam_spi/spi_master.c **** 	uint8_t val;
 239:../src/common/services/spi/sam_spi/spi_master.c **** 	uint32_t i = 0;
 420              		.loc 1 239 0
 421 0002 0026     		movs	r6, #0
 240:../src/common/services/spi/sam_spi/spi_master.c **** 
 241:../src/common/services/spi/sam_spi/spi_master.c **** 	while (len) {
 422              		.loc 1 241 0
 423 0004 20E0     		b	.L28
 424              	.LVL54:
 425              	.L31:
 242:../src/common/services/spi/sam_spi/spi_master.c **** 		timeout = SPI_TIMEOUT;
 243:../src/common/services/spi/sam_spi/spi_master.c **** 		while (!spi_is_tx_ready(p_spi)) {
 244:../src/common/services/spi/sam_spi/spi_master.c **** 			if (!timeout--) {
 426              		.loc 1 244 0
 427 0006 631E     		subs	r3, r4, #1
 428              	.LVL55:
 429 0008 14B3     		cbz	r4, .L36
 430 000a 1C46     		mov	r4, r3
 431 000c 00E0     		b	.L35
 432              	.LVL56:
 433              	.L39:
 434 000e 134C     		ldr	r4, .L41
 435              	.L35:
 436              	.LVL57:
 437              	.LBB81:
 438              	.LBB82:
 425:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 		return 1;
 439              		.loc 2 425 0
 440 0010 0369     		ldr	r3, [r0, #16]
 441 0012 13F00203 		ands	r3, r3, #2
 442 0016 00D0     		beq	.L30
 443              		.loc 2 426 0
 444 0018 0123     		movs	r3, #1
 445              	.L30:
 446              	.LVL58:
 447              	.LBE82:
 448              	.LBE81:
 243:../src/common/services/spi/sam_spi/spi_master.c **** 			if (!timeout--) {
 449              		.loc 1 243 0
 450 001a 002B     		cmp	r3, #0
 451 001c F3D0     		beq	.L31
 452              	.LVL59:
 453              	.LBB83:
 454              	.LBB84:
 455              	.LBB85:
 384:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 456              		.loc 2 384 0
 457 001e FF23     		movs	r3, #255
 458 0020 C360     		str	r3, [r0, #12]
 459              	.LVL60:
 460              	.LBE85:
 461              	.LBE84:
 462              	.LBE83:
 245:../src/common/services/spi/sam_spi/spi_master.c **** 				return ERR_TIMEOUT;
 246:../src/common/services/spi/sam_spi/spi_master.c **** 			}
 247:../src/common/services/spi/sam_spi/spi_master.c **** 		}
 248:../src/common/services/spi/sam_spi/spi_master.c **** 		spi_write_single(p_spi, CONFIG_SPI_MASTER_DUMMY);
 249:../src/common/services/spi/sam_spi/spi_master.c **** 
 250:../src/common/services/spi/sam_spi/spi_master.c **** 		timeout = SPI_TIMEOUT;
 463              		.loc 1 250 0
 464 0022 0E4B     		ldr	r3, .L41
 251:../src/common/services/spi/sam_spi/spi_master.c **** 		while (!spi_is_rx_ready(p_spi)) {
 465              		.loc 1 251 0
 466 0024 02E0     		b	.L32
 467              	.LVL61:
 468              	.L34:
 252:../src/common/services/spi/sam_spi/spi_master.c **** 			if (!timeout--) {
 469              		.loc 1 252 0
 470 0026 5C1E     		subs	r4, r3, #1
 471              	.LVL62:
 472 0028 A3B1     		cbz	r3, .L37
 473 002a 2346     		mov	r3, r4
 474              	.LVL63:
 475              	.L32:
 476              	.LBB86:
 477              	.LBB87:
 427:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	} else {
 428:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 		return 0;
 429:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	}
 430:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 431:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
 432:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
 433:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Check if the SPI contains a received character.
 434:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 435:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param p_spi Pointer to an SPI instance.
 436:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 437:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \return 1 if the SPI Receive Holding Register is full, otherwise 0.
 438:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
 439:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** static inline uint32_t spi_is_rx_full(Spi *p_spi)
 440:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
 441:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	if (p_spi->SPI_SR & SPI_SR_RDRF) {
 442:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 		return 1;
 443:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	} else {
 444:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 		return 0;
 445:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	}
 446:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 447:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 
 448:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** /**
 449:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \brief Check if all receptions are ready.
 450:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 451:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \param p_spi Pointer to an SPI instance.
 452:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  *
 453:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  * \return 1 if the SPI Receiver is ready, otherwise 0.
 454:/home/bekeband/workspace/OLIMEX_Start/src/spi.h ****  */
 455:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** static inline uint32_t spi_is_rx_ready(Spi *p_spi)
 456:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** {
 457:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	if ((p_spi->SPI_SR & (SPI_SR_RDRF | SPI_SR_TXEMPTY))
 478              		.loc 2 457 0
 479 002c 0569     		ldr	r5, [r0, #16]
 480 002e 40F20124 		movw	r4, #513
 481 0032 AC43     		bics	r4, r4, r5
 482 0034 01D1     		bne	.L38
 458:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 			== (SPI_SR_RDRF | SPI_SR_TXEMPTY)) {
 459:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 		return 1;
 483              		.loc 2 459 0
 484 0036 0124     		movs	r4, #1
 485 0038 00E0     		b	.L33
 486              	.L38:
 460:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	} else {
 461:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 		return 0;
 487              		.loc 2 461 0
 488 003a 0024     		movs	r4, #0
 489              	.L33:
 490              	.LVL64:
 491              	.LBE87:
 492              	.LBE86:
 251:../src/common/services/spi/sam_spi/spi_master.c **** 			if (!timeout--) {
 493              		.loc 1 251 0
 494 003c 002C     		cmp	r4, #0
 495 003e F2D0     		beq	.L34
 496              	.LVL65:
 497              	.LBB88:
 498              	.LBB89:
 499              	.LBB90:
 500              	.LBB91:
 395:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 501              		.loc 2 395 0
 502 0040 8368     		ldr	r3, [r0, #8]
 503              	.LVL66:
 504              	.LBE91:
 505              	.LBE90:
 506              	.LBE89:
 507              	.LBE88:
 253:../src/common/services/spi/sam_spi/spi_master.c **** 				return ERR_TIMEOUT;
 254:../src/common/services/spi/sam_spi/spi_master.c **** 			}
 255:../src/common/services/spi/sam_spi/spi_master.c **** 		}
 256:../src/common/services/spi/sam_spi/spi_master.c **** 		spi_read_single(p_spi, &val);
 257:../src/common/services/spi/sam_spi/spi_master.c **** 
 258:../src/common/services/spi/sam_spi/spi_master.c **** 		data[i] = val;
 508              		.loc 1 258 0
 509 0042 8B55     		strb	r3, [r1, r6]
 259:../src/common/services/spi/sam_spi/spi_master.c **** 		i++;
 510              		.loc 1 259 0
 511 0044 0136     		adds	r6, r6, #1
 512              	.LVL67:
 260:../src/common/services/spi/sam_spi/spi_master.c **** 		len--;
 513              		.loc 1 260 0
 514 0046 013A     		subs	r2, r2, #1
 515              	.LVL68:
 516              	.L28:
 241:../src/common/services/spi/sam_spi/spi_master.c **** 		timeout = SPI_TIMEOUT;
 517              		.loc 1 241 0
 518 0048 002A     		cmp	r2, #0
 519 004a E0D1     		bne	.L39
 261:../src/common/services/spi/sam_spi/spi_master.c **** 	}
 262:../src/common/services/spi/sam_spi/spi_master.c **** 
 263:../src/common/services/spi/sam_spi/spi_master.c **** 	return STATUS_OK;
 520              		.loc 1 263 0
 521 004c 0020     		movs	r0, #0
 522              	.LVL69:
 523 004e 02E0     		b	.L29
 524              	.LVL70:
 525              	.L36:
 245:../src/common/services/spi/sam_spi/spi_master.c **** 			}
 526              		.loc 1 245 0
 527 0050 FD20     		movs	r0, #253
 528              	.LVL71:
 529 0052 00E0     		b	.L29
 530              	.LVL72:
 531              	.L37:
 253:../src/common/services/spi/sam_spi/spi_master.c **** 			}
 532              		.loc 1 253 0
 533 0054 FD20     		movs	r0, #253
 534              	.LVL73:
 535              	.L29:
 264:../src/common/services/spi/sam_spi/spi_master.c **** }
 536              		.loc 1 264 0
 537 0056 40B2     		sxtb	r0, r0
 538 0058 70BC     		pop	{r4, r5, r6}
 539              		.cfi_restore 6
 540              		.cfi_restore 5
 541              		.cfi_restore 4
 542              		.cfi_def_cfa_offset 0
 543              	.LVL74:
 544 005a 7047     		bx	lr
 545              	.L42:
 546              		.align	2
 547              	.L41:
 548 005c F0490200 		.word	150000
 549              		.cfi_endproc
 550              	.LFE133:
 552              		.section	.text.spi_transceive_packet,"ax",%progbits
 553              		.align	2
 554              		.global	spi_transceive_packet
 555              		.thumb
 556              		.thumb_func
 558              	spi_transceive_packet:
 559              	.LFB134:
 265:../src/common/services/spi/sam_spi/spi_master.c **** 
 266:../src/common/services/spi/sam_spi/spi_master.c **** /**
 267:../src/common/services/spi/sam_spi/spi_master.c ****  * \brief Send and receive a sequence of bytes from an SPI device.
 268:../src/common/services/spi/sam_spi/spi_master.c ****  *
 269:../src/common/services/spi/sam_spi/spi_master.c ****  * \param p_spi     Base address of the SPI instance.
 270:../src/common/services/spi/sam_spi/spi_master.c ****  * \param tx_data   Data buffer to send.
 271:../src/common/services/spi/sam_spi/spi_master.c ****  * \param rx_data   Data buffer to read.
 272:../src/common/services/spi/sam_spi/spi_master.c ****  * \param len       Length of data to be read.
 273:../src/common/services/spi/sam_spi/spi_master.c ****  *
 274:../src/common/services/spi/sam_spi/spi_master.c ****  * \pre SPI device must be selected with spi_select_device() first.
 275:../src/common/services/spi/sam_spi/spi_master.c ****  */
 276:../src/common/services/spi/sam_spi/spi_master.c **** status_code_t spi_transceive_packet(Spi *p_spi, uint8_t *tx_data, uint8_t *rx_data, size_t len)
 277:../src/common/services/spi/sam_spi/spi_master.c **** {
 560              		.loc 1 277 0
 561              		.cfi_startproc
 562              		@ args = 0, pretend = 0, frame = 0
 563              		@ frame_needed = 0, uses_anonymous_args = 0
 564              		@ link register save eliminated.
 565              	.LVL75:
 566 0000 F0B4     		push	{r4, r5, r6, r7}
 567              		.cfi_def_cfa_offset 16
 568              		.cfi_offset 4, -16
 569              		.cfi_offset 5, -12
 570              		.cfi_offset 6, -8
 571              		.cfi_offset 7, -4
 572              	.LVL76:
 278:../src/common/services/spi/sam_spi/spi_master.c **** 	uint32_t timeout = SPI_TIMEOUT;
 279:../src/common/services/spi/sam_spi/spi_master.c **** 	uint8_t val;
 280:../src/common/services/spi/sam_spi/spi_master.c **** 	uint32_t i = 0;
 573              		.loc 1 280 0
 574 0002 0027     		movs	r7, #0
 281:../src/common/services/spi/sam_spi/spi_master.c **** 
 282:../src/common/services/spi/sam_spi/spi_master.c **** 	while (len) {
 575              		.loc 1 282 0
 576 0004 20E0     		b	.L44
 577              	.LVL77:
 578              	.L47:
 283:../src/common/services/spi/sam_spi/spi_master.c **** 		timeout = SPI_TIMEOUT;
 284:../src/common/services/spi/sam_spi/spi_master.c **** 		while (!spi_is_tx_ready(p_spi)) {
 285:../src/common/services/spi/sam_spi/spi_master.c **** 			if (!timeout--) {
 579              		.loc 1 285 0
 580 0006 6C1E     		subs	r4, r5, #1
 581              	.LVL78:
 582 0008 15B3     		cbz	r5, .L52
 583 000a 2546     		mov	r5, r4
 584 000c 00E0     		b	.L51
 585              	.LVL79:
 586              	.L55:
 587 000e 134D     		ldr	r5, .L57
 588              	.L51:
 589              	.LVL80:
 590              	.LBB92:
 591              	.LBB93:
 425:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 		return 1;
 592              		.loc 2 425 0
 593 0010 0469     		ldr	r4, [r0, #16]
 594 0012 14F00204 		ands	r4, r4, #2
 595 0016 00D0     		beq	.L46
 426:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	} else {
 596              		.loc 2 426 0
 597 0018 0124     		movs	r4, #1
 598              	.L46:
 599              	.LVL81:
 600              	.LBE93:
 601              	.LBE92:
 284:../src/common/services/spi/sam_spi/spi_master.c **** 			if (!timeout--) {
 602              		.loc 1 284 0
 603 001a 002C     		cmp	r4, #0
 604 001c F3D0     		beq	.L47
 286:../src/common/services/spi/sam_spi/spi_master.c **** 				return ERR_TIMEOUT;
 287:../src/common/services/spi/sam_spi/spi_master.c **** 			}
 288:../src/common/services/spi/sam_spi/spi_master.c **** 		}
 289:../src/common/services/spi/sam_spi/spi_master.c **** 		spi_write_single(p_spi, tx_data[i]);
 605              		.loc 1 289 0
 606 001e CC5D     		ldrb	r4, [r1, r7]	@ zero_extendqisi2
 607              	.LVL82:
 608              	.LBB94:
 609              	.LBB95:
 610              	.LBB96:
 384:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 611              		.loc 2 384 0
 612 0020 C460     		str	r4, [r0, #12]
 613              	.LVL83:
 614              	.LBE96:
 615              	.LBE95:
 616              	.LBE94:
 290:../src/common/services/spi/sam_spi/spi_master.c **** 
 291:../src/common/services/spi/sam_spi/spi_master.c **** 		timeout = SPI_TIMEOUT;
 617              		.loc 1 291 0
 618 0022 0E4C     		ldr	r4, .L57
 292:../src/common/services/spi/sam_spi/spi_master.c **** 		while (!spi_is_rx_ready(p_spi)) {
 619              		.loc 1 292 0
 620 0024 02E0     		b	.L48
 621              	.LVL84:
 622              	.L50:
 293:../src/common/services/spi/sam_spi/spi_master.c **** 			if (!timeout--) {
 623              		.loc 1 293 0
 624 0026 651E     		subs	r5, r4, #1
 625              	.LVL85:
 626 0028 A4B1     		cbz	r4, .L53
 627 002a 2C46     		mov	r4, r5
 628              	.LVL86:
 629              	.L48:
 630              	.LBB97:
 631              	.LBB98:
 457:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 			== (SPI_SR_RDRF | SPI_SR_TXEMPTY)) {
 632              		.loc 2 457 0
 633 002c 0669     		ldr	r6, [r0, #16]
 634 002e 40F20125 		movw	r5, #513
 635 0032 B543     		bics	r5, r5, r6
 636 0034 01D1     		bne	.L54
 459:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** 	} else {
 637              		.loc 2 459 0
 638 0036 0125     		movs	r5, #1
 639 0038 00E0     		b	.L49
 640              	.L54:
 641              		.loc 2 461 0
 642 003a 0025     		movs	r5, #0
 643              	.L49:
 644              	.LVL87:
 645              	.LBE98:
 646              	.LBE97:
 292:../src/common/services/spi/sam_spi/spi_master.c **** 			if (!timeout--) {
 647              		.loc 1 292 0
 648 003c 002D     		cmp	r5, #0
 649 003e F2D0     		beq	.L50
 650              	.LVL88:
 651              	.LBB99:
 652              	.LBB100:
 653              	.LBB101:
 654              	.LBB102:
 395:/home/bekeband/workspace/OLIMEX_Start/src/spi.h **** }
 655              		.loc 2 395 0
 656 0040 8468     		ldr	r4, [r0, #8]
 657              	.LVL89:
 658              	.LBE102:
 659              	.LBE101:
 660              	.LBE100:
 661              	.LBE99:
 294:../src/common/services/spi/sam_spi/spi_master.c **** 				return ERR_TIMEOUT;
 295:../src/common/services/spi/sam_spi/spi_master.c **** 			}
 296:../src/common/services/spi/sam_spi/spi_master.c **** 		}
 297:../src/common/services/spi/sam_spi/spi_master.c **** 		spi_read_single(p_spi, &val);
 298:../src/common/services/spi/sam_spi/spi_master.c **** 
 299:../src/common/services/spi/sam_spi/spi_master.c **** 		rx_data[i] = val;
 662              		.loc 1 299 0
 663 0042 D455     		strb	r4, [r2, r7]
 300:../src/common/services/spi/sam_spi/spi_master.c **** 		i++;
 664              		.loc 1 300 0
 665 0044 0137     		adds	r7, r7, #1
 666              	.LVL90:
 301:../src/common/services/spi/sam_spi/spi_master.c **** 		len--;
 667              		.loc 1 301 0
 668 0046 013B     		subs	r3, r3, #1
 669              	.LVL91:
 670              	.L44:
 282:../src/common/services/spi/sam_spi/spi_master.c **** 		timeout = SPI_TIMEOUT;
 671              		.loc 1 282 0
 672 0048 002B     		cmp	r3, #0
 673 004a E0D1     		bne	.L55
 302:../src/common/services/spi/sam_spi/spi_master.c **** 	}
 303:../src/common/services/spi/sam_spi/spi_master.c **** 
 304:../src/common/services/spi/sam_spi/spi_master.c **** 	return STATUS_OK;
 674              		.loc 1 304 0
 675 004c 0020     		movs	r0, #0
 676              	.LVL92:
 677 004e 02E0     		b	.L45
 678              	.LVL93:
 679              	.L52:
 286:../src/common/services/spi/sam_spi/spi_master.c **** 			}
 680              		.loc 1 286 0
 681 0050 FD20     		movs	r0, #253
 682              	.LVL94:
 683 0052 00E0     		b	.L45
 684              	.LVL95:
 685              	.L53:
 294:../src/common/services/spi/sam_spi/spi_master.c **** 			}
 686              		.loc 1 294 0
 687 0054 FD20     		movs	r0, #253
 688              	.LVL96:
 689              	.L45:
 305:../src/common/services/spi/sam_spi/spi_master.c **** }
 690              		.loc 1 305 0
 691 0056 40B2     		sxtb	r0, r0
 692 0058 F0BC     		pop	{r4, r5, r6, r7}
 693              		.cfi_restore 7
 694              		.cfi_restore 6
 695              		.cfi_restore 5
 696              		.cfi_restore 4
 697              		.cfi_def_cfa_offset 0
 698              	.LVL97:
 699 005a 7047     		bx	lr
 700              	.L58:
 701              		.align	2
 702              	.L57:
 703 005c F0490200 		.word	150000
 704              		.cfi_endproc
 705              	.LFE134:
 707              		.section	.bss.cpu_irq_critical_section_counter,"aw",%nobits
 708              		.align	2
 711              	cpu_irq_critical_section_counter:
 712 0000 00000000 		.space	4
 713              		.section	.bss.cpu_irq_prev_interrupt_state,"aw",%nobits
 716              	cpu_irq_prev_interrupt_state:
 717 0000 00       		.space	1
 718              		.text
 719              	.Letext0:
 720              		.file 3 "/usr/local/gcc-arm-none-eabi-5_2-2015q4/lib/gcc/arm-none-eabi/5.2.1/include/stddef.h"
 721              		.file 4 "/usr/local/gcc-arm-none-eabi-5_2-2015q4/arm-none-eabi/include/machine/_default_types.h"
 722              		.file 5 "/usr/local/gcc-arm-none-eabi-5_2-2015q4/arm-none-eabi/include/sys/_stdint.h"
 723              		.file 6 "/home/bekeband/workspace/OLIMEX_Start/src/sam3s4b.h"
 724              		.file 7 "/home/bekeband/workspace/OLIMEX_Start/src/component/component_spi.h"
 725              		.file 8 "/home/bekeband/workspace/OLIMEX_Start/src/sam3s/pll.h"
 726              		.file 9 "/home/bekeband/workspace/OLIMEX_Start/src/status_codes.h"
 727              		.file 10 "../src/common/services/spi/sam_spi/spi_master.h"
 728              		.file 11 "/home/bekeband/workspace/OLIMEX_Start/src/sam3s/sysclk.h"
 729              		.file 12 "/home/bekeband/workspace/OLIMEX_Start/src/interrupt/interrupt_sam_nvic.h"
 730              		.file 13 "/home/bekeband/workspace/OLIMEX_Start/src/core_cm3.h"
DEFINED SYMBOLS
                            *ABS*:00000000 spi_master.c
     /tmp/ccweHkFr.s:20     .text.spi_master_init:00000000 $t
     /tmp/ccweHkFr.s:25     .text.spi_master_init:00000000 spi_master_init
     /tmp/ccweHkFr.s:110    .text.spi_master_setup_device:00000000 $t
     /tmp/ccweHkFr.s:115    .text.spi_master_setup_device:00000000 spi_master_setup_device
     /tmp/ccweHkFr.s:185    .text.spi_master_setup_device:00000058 $d
     /tmp/ccweHkFr.s:190    .text.spi_select_device:00000000 $t
     /tmp/ccweHkFr.s:195    .text.spi_select_device:00000000 spi_select_device
     /tmp/ccweHkFr.s:249    .text.spi_deselect_device:00000000 $t
     /tmp/ccweHkFr.s:254    .text.spi_deselect_device:00000000 spi_deselect_device
     /tmp/ccweHkFr.s:303    .text.spi_write_packet:00000000 $t
     /tmp/ccweHkFr.s:308    .text.spi_write_packet:00000000 spi_write_packet
     /tmp/ccweHkFr.s:396    .text.spi_write_packet:00000038 $d
     /tmp/ccweHkFr.s:401    .text.spi_read_packet:00000000 $t
     /tmp/ccweHkFr.s:406    .text.spi_read_packet:00000000 spi_read_packet
     /tmp/ccweHkFr.s:548    .text.spi_read_packet:0000005c $d
     /tmp/ccweHkFr.s:553    .text.spi_transceive_packet:00000000 $t
     /tmp/ccweHkFr.s:558    .text.spi_transceive_packet:00000000 spi_transceive_packet
     /tmp/ccweHkFr.s:703    .text.spi_transceive_packet:0000005c $d
     /tmp/ccweHkFr.s:708    .bss.cpu_irq_critical_section_counter:00000000 $d
     /tmp/ccweHkFr.s:711    .bss.cpu_irq_critical_section_counter:00000000 cpu_irq_critical_section_counter
     /tmp/ccweHkFr.s:716    .bss.cpu_irq_prev_interrupt_state:00000000 cpu_irq_prev_interrupt_state
     /tmp/ccweHkFr.s:717    .bss.cpu_irq_prev_interrupt_state:00000000 $d
                     .debug_frame:00000010 $d
                           .group:00000000 wm4.0.22b0b12aa5a71f1d303bb4102a500f20
                           .group:00000000 wm4.stddef.h.39.a38874c8f8a57e66301090908ec2a69f
                           .group:00000000 wm4.parts.h.48.e0e2ea619afac603c89fe3ed31aee15f
                           .group:00000000 wm4.tpaste.h.48.b41cf557065b1d02756f7dcff09d49b9
                           .group:00000000 wm4.stringz.h.48.ed3117824abe39c5e1281f5c5c443171
                           .group:00000000 wm4.mrepeat.h.62.d4f39ef966b631e185fbb702f9b80ecc
                           .group:00000000 wm4.features.h.22.2e382148a0560adabf236cddd4e880f4
                           .group:00000000 wm4._default_types.h.15.933e8edd27a65e0b69af4a865eb623d2
                           .group:00000000 wm4._intsup.h.10.b82bf99f69d6a5c085fc866de0d3eb9b
                           .group:00000000 wm4._stdint.h.10.f76354baea1c7088202064e6f3d4f5e3
                           .group:00000000 wm4.stdint.h.23.373a9d32a9e4c2e88fd347156532d281
                           .group:00000000 wm4.sam3s4b.h.226.24ac70e3db261e60e9d210f1232ad825
                           .group:00000000 wm4.core_cm3.h.43.614605f47657df9251f3b3f57590a49a
                           .group:00000000 wm4.core_cmInstr.h.39.53f0cdf363d7ba01993152fdcb6be5d3
                           .group:00000000 wm4.core_cm3.h.160.e022dd848961f928eab0fbd8650d106b
                           .group:00000000 wm4.component_acc.h.46.865c75bb2e3a9d4f38652271e089b5c8
                           .group:00000000 wm4.component_adc.h.46.52ba0aeb0af22cb1f1d91b64dde93956
                           .group:00000000 wm4.component_chipid.h.46.43a273f46f4c32081dfee459ad8862da
                           .group:00000000 wm4.component_crccu.h.46.3d5d84ebcceb8af0782dcb99da35d7d0
                           .group:00000000 wm4.component_dacc.h.46.9b850907590bd31997b006351cf81000
                           .group:00000000 wm4.component_efc.h.46.5a9ec99498daf6c49989fb6d077d312d
                           .group:00000000 wm4.component_gpbr.h.46.1788b80e501f9df943793fa21cfbbe21
                           .group:00000000 wm4.component_hsmci.h.46.2dc64c4ca9a764fbaa2fd4fd1541de68
                           .group:00000000 wm4.component_matrix.h.46.2f4d70bb97c9923e855a3d0c5f56d95e
                           .group:00000000 wm4.component_pdc.h.46.dfd3350dd71c534e17334339feb77f7c
                           .group:00000000 wm4.component_pio.h.46.dc6628e5aa2d62d441a2f9edf013a75a
                           .group:00000000 wm4.component_pmc.h.46.3a13206d3ecf2f1946cf88c02281a26b
                           .group:00000000 wm4.component_pwm.h.46.89366ac40583cd8cd91a5fed13cff02c
                           .group:00000000 wm4.component_rstc.h.46.ef0fbefe4bc03f652c9f4a03bfd1ef46
                           .group:00000000 wm4.component_rtc.h.46.cb1a84d0ff4d043a12d4d2139109e615
                           .group:00000000 wm4.component_rtt.h.46.e35d95fd2652721ab93a68f868a14334
                           .group:00000000 wm4.component_spi.h.46.fbe616cc22048ae3dbe0157a75a200d2
                           .group:00000000 wm4.component_ssc.h.46.bf814ca321f25fab9ac26489e1dec9f0
                           .group:00000000 wm4.component_supc.h.46.013b2a48420cc402d8153de678272576
                           .group:00000000 wm4.component_tc.h.46.8ee6425921e5bd880a2aabd4ecd71522
                           .group:00000000 wm4.component_twi.h.46.1b26436f50ce08e4cbf79a4fdffbcc40
                           .group:00000000 wm4.component_uart.h.46.2ec10b01d23d880667901e3e18729356
                           .group:00000000 wm4.component_udp.h.46.817a2ee6a2f80ac39e7bfbe0ff852001
                           .group:00000000 wm4.component_usart.h.46.e73badf8b79b1144a5e58ae3c7f99afd
                           .group:00000000 wm4.component_wdt.h.46.9058aedbbe8c7f88e4bce28490af6b23
                           .group:00000000 wm4.instance_hsmci.h.46.0921b488c345ac98ef3ba7ad69508825
                           .group:00000000 wm4.instance_ssc.h.46.eebd23f2ef145a585a82c5cef060c7ea
                           .group:00000000 wm4.instance_spi.h.46.26621c46b178e9ca6762bb17a24ec410
                           .group:00000000 wm4.instance_tc0.h.46.ead4b45558da2f42ca95730d1beaaa00
                           .group:00000000 wm4.instance_twi0.h.46.cb546cfb1d37706d80f563947a14da44
                           .group:00000000 wm4.instance_twi1.h.46.5f1af4ccf4d6b33c96c4e388359796ac
                           .group:00000000 wm4.instance_pwm.h.46.76f280edd0f8b1bfcce61f4d903d0259
                           .group:00000000 wm4.instance_usart0.h.46.3c469d2b920fd3e12092b7294ca82da9
                           .group:00000000 wm4.instance_usart1.h.46.398f0294bdd8277ea274c7a419e95901
                           .group:00000000 wm4.instance_udp.h.46.40973cfe8c89095098371468c1887576
                           .group:00000000 wm4.instance_adc.h.46.63258f34d0c27b11736611a7b2b2f27b
                           .group:00000000 wm4.instance_dacc.h.46.5ae4a5035dc78df5a5c17d9d1e76e633
                           .group:00000000 wm4.instance_acc.h.46.2e4a9cb4cb3a92c914800b95f627dc57
                           .group:00000000 wm4.instance_crccu.h.46.184237fe1c77c165bb334c02320f869e
                           .group:00000000 wm4.instance_matrix.h.46.d111ad2ca1e7198ed94a2e1213aa58a3
                           .group:00000000 wm4.instance_pmc.h.46.d5d037bdb46a612e424292373f68d9f8
                           .group:00000000 wm4.instance_uart0.h.46.dc252f382de697c23724fa503782af1d
                           .group:00000000 wm4.instance_chipid.h.46.8f77c51e2ab9edf7d26da8400aab7875
                           .group:00000000 wm4.instance_uart1.h.46.283c4a1cf98fcb8466ac9bceadb0b677
                           .group:00000000 wm4.instance_efc.h.46.9f291aa734b1cb8d75fd144e72f97e2b
                           .group:00000000 wm4.instance_pioa.h.46.cf0f81cda67dc3776fe52603ff60a82f
                           .group:00000000 wm4.instance_piob.h.46.fd1caa7213e73c46d15f69de6af123fb
                           .group:00000000 wm4.instance_rstc.h.46.cb75da875c2442dd75e5a8799bd32e87
                           .group:00000000 wm4.instance_supc.h.46.90f370dafc0bdfb8646ce68458e514e6
                           .group:00000000 wm4.instance_rtt.h.46.5758ae3574a477219b8abb8fe940acb4
                           .group:00000000 wm4.instance_wdt.h.46.b7fdc89b044099cb92c28a2f305b0c66
                           .group:00000000 wm4.instance_rtc.h.46.9d6ddf34c4ffdc6eec5effd1b6d4f045
                           .group:00000000 wm4.instance_gpbr.h.46.672198928bf79182f671b278dd185af8
                           .group:00000000 wm4.sam3s4b.h.317.e7cdc49d5fdc97b75252ee6763540354
                           .group:00000000 wm4.pio_sam3s4b.h.46.b91cb9b5c8fcc478a4299e5df5dba6ff
                           .group:00000000 wm4.sam3s4b.h.452.d371283092f6029dc967aa8f16a63977
                           .group:00000000 wm4.newlib.h.8.2702bca278809460f0af6fba1d84eb68
                           .group:00000000 wm4.config.h.220.a09b0b0de3c25be3f39d71990e617bff
                           .group:00000000 wm4._ansi.h.23.9f8fcfa20193763fcf364fb91705c94b
                           .group:00000000 wm4.stdio.h.31.7c0e28c411445f3f9c5b11accf882760
                           .group:00000000 wm4.stddef.h.161.19e15733342b50ead2919490b095303e
                           .group:00000000 wm4.cdefs.h.47.f5f8300e4d8e4fd74800d02abaf0cc79
                           .group:00000000 wm4.stdarg.h.34.3a23a216c0c293b3d2ea2e89281481e6
                           .group:00000000 wm4.lock.h.2.9bc98482741e5e2a9450b12934a684ea
                           .group:00000000 wm4._types.h.54.d3d34a3b7f3cc230cd159baf022b4b08
                           .group:00000000 wm4.stddef.h.161.5349cb105733e8777bfb0cf53c4e3f34
                           .group:00000000 wm4.reent.h.17.850ac0a908956e5fb788be1b80de2f32
                           .group:00000000 wm4.types.h.24.b2be5f53932a9c9d07787288b29b6d75
                           .group:00000000 wm4.types.h.2.e9cec8c90ab35f77d9f499e06ae02400
                           .group:00000000 wm4._timeval.h.30.81d73a3eee9df6c17d94febfd4f5f751
                           .group:00000000 wm4.timespec.h.41.d855182eb0e690443ab8651bcedca6e1
                           .group:00000000 wm4.select.h.31.43869e1a2488877c4cd47d2792524430
                           .group:00000000 wm4.types.h.91.482c289990230376cfd504a2907d47e7
                           .group:00000000 wm4.stdio.h.2.4aa87247282eca6c8f36f9de33d8df1a
                           .group:00000000 wm4.stdio.h.68.a99a2db1e55915cfd1b035cc1e9fcff1
                           .group:00000000 wm4.stdbool.h.29.07dce69c3b78884144b7f7bd19483461
                           .group:00000000 wm4.stdlib.h.13.4ed386f5c1a80d71e72172885d946ef2
                           .group:00000000 wm4.alloca.h.8.dfc0c703c47ec3e69746825b17d9e66d
                           .group:00000000 wm4.stdlib.h.54.8f3036bd0ed314ae051372ccc1fe8f02
                           .group:00000000 wm4.compiler.h.91.eeb6296462f96c51e8e0205ed94a5b09
                           .group:00000000 wm4.interrupt_sam_nvic.h.48.062d9b5b508e1df54b17551a6cd30aa3
                           .group:00000000 wm4.compiler.h.430.149e09620daad34df46237982e03ccfa
                           .group:00000000 wm4.conf_clock.h.48.bb7712c39c7b9c398f6f7b04cd2be3c6
                           .group:00000000 wm4.board.h.72.c499cf31e0990679c9baf3f86f5ccf9a
                           .group:00000000 wm4.sam3s_OLIMEX.h.48.48b3245863396c8b62de7b22e597962c
                           .group:00000000 wm4.pmc.h.48.6600843dbec2c56a6fa122eeb6d431ab
                           .group:00000000 wm4.osc.h.97.07e856cbe46dbcafec9fcefe4d6f94b7
                           .group:00000000 wm4.pll.h.48.f70b3ad22b9bd221dcddc2d8f7f11308
                           .group:00000000 wm4.sysclk.h.240.cfab6246305f0088614c69f722fe0ee0
                           .group:00000000 wm4.spi.h.48.60a749da5bdb250530cc0f3eda561d96
                           .group:00000000 wm4.conf_spi_master.h.48.8aee3327de17f99979dd8f3c0b75ad58
                           .group:00000000 wm4.spi_master.h.96.3ce3c25e24f2a290fb0ddbccfa24e150

UNDEFINED SYMBOLS
spi_enable_clock
spi_set_peripheral_chip_select_value
spi_set_delay_between_chip_select
spi_calc_baudrate_div
spi_set_transfer_delay
spi_set_bits_per_transfer
spi_set_baudrate_div
spi_configure_cs_behavior
spi_set_clock_polarity
spi_set_clock_phase
